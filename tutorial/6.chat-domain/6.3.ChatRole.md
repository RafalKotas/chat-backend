# 6.3 `ChatRole` (Enum)

The `ChatRole` enum defines **the permissions a user has inside a chat.**<br>
Each participant in a chat is assigned a role via the `ChatParticpant.role` field.

This enum is primarily used for **group chats**, where users may have different levels of authority (e.g., ability to 
add/remove users).

---

## ‚úî Enum Definition

```java
package com.chatapp.chat.chat;

public enum ChatRole {
    MEMBER,
    ADMIN
}
```

`ChatRole` represents **authorization levels inside a chat room**.<br>
It determines what actions a participant is allowed to perform.

It is critical for:
- distinguishing between normal users and chat owners
- enforcing group chat admin privileges
- extending access control in future features (renaming groups, kicking members, muting users, etc.)

---

## üìå Role Description

### `MEMBER`

Standard participant of a chat room.

A `MEMBER` can typically:
- read messages
- send messages
- receive messages
- see other participants

Used for:
- all users in direct (1:1) chats
- users added to group chats

---

`ADMIN`

A privileged participant with elevated permissions.

Admins:
- are assigned automatically when creating a group chat
- can manage users in the chat
  - add users
  - remove users
- may modify the group (future features)

Direct chats do not have the concept of admin - both users in a direct chat are simply `MEMBER`.

---

## üîÑ Where ChatRole Is Used

### ‚úì In `ChatParticipant`

Stored as:
```java
@Enumerated(EnumType.STRING)
private ChatRole role;
```

### ‚úì In `ChatService`

Used to:
- assign `ADMIN` to group creators
- assign `MEMBER` to invited users
- enforce access rules (e.g., prevent adding users to DIRECT chats)

### ‚úì In `ChatResponse`

Exposed to the API as:

```java
{
  "userId": "...",
  "role": "ADMIN"
}
```

### ‚úì In business logic

Determines what actions are allowed in group chats.

---

## üîê Design Notes

- Enum is intentionally minimal.
- Permissions are role-based, not ACL-based - this keeps the MVP simple.
- Easily extendable to additional roles:
  - `MODERATOR`
  - `READ_ONLY`
  - `OWNER`
  - `MUTED`

Possible future improvements include permission matrices or per-feature ACL.

---

## ‚úî Summary

`ChatRole` defines **user permissions within a chat** and is essential for group chat governance.
- `MEMBER` ‚Üí regular chat participant
- `ADMIN` ‚Üí privileged user who manages the group

It integrates tightly with:
- `ChatParticipant`
- `ChatService`
- REST responses (`ChatResponse`)

This enum keeps the authorization model straightforward, scalable, and easy to extend.

---

## Definitions:

### ACL

An **ACL** specifies which users or system processes are granted access to resources, as well as what operations are 
allowed on given resources.